<!DOCTYPE html><html class="no-js" lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>refactorized blog</title><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Press+Start+2P"><link rel="stylesheet" href="/style/main.css"></head><body><header class="column row"><h1><a href="/">refactorized blog</a></h1></header><div class="row" id="main"><div id="content"><article><div class="article-head"><h2>node-docs alias</h2><div class="post-date">2016:09:01</div></div><h2 id="what-why-">What-why?</h2>
<!--short-->
<p>This is a feature I expected to find in nvm, and when I didn&apos;t I forked the repo so I could add it. I am a little busy right now, however; and I didn&apos;t know the best way to go about writing tests for a proper pull request, seeing as I would have to monitor the launch of a web page.</p>
<p>So I took the path of least resistance, and kind of like how that turned out. There is something delicious about adding so much convenience with 5 minutes of thought and one line of code.
<!--short--></p>
<h2 id="how-">How?</h2>
<p>Here&apos;s the alias I add to my start-up <a href="https://github.com/refactorized/dotfiles">dotfiles</a> :</p>
<pre><code>alias node-docs=&apos;open http://nodejs.org/docs/`node --version`/api/&apos;
</code></pre><p>This simply opens a browser to node&apos;s versioned api docs, which follow a simple convetion. To fulfill that convetion <code>node --version</code> is invoked inline to output the currently active node install&apos;s version. This works with nvm because nvm takes care of aliasing the executable in a very straightforward way. It works without nvm too, as its just a regular node call.</p>
<h3 id="the-single-quotes">The single quotes</h3>
<p>Originally, I had this wrapped up as a bash function, but it works fine as a simple alias, so I quickly stuck it with my other aliases and wrapped it in a pair of double quotes to ensure the entire command was used as the alias. I tested it out in a random directory and, sure enough, the docs for the system default version of node showed up in my browser, 0.10.35 in my case. <em>But</em> when I used <code>npm use 0.11.16</code> to set my shell environment accordingly, subsequent calls to node-docs would load the same system default docs as before.</p>
<p>&quot;Well, <em>Duh</em>&quot; says the seasoned bash programmer, the contents inside the double quotes are expanded when the script is run. The <code>node --version</code> part &apos;executes&apos; when the alias is first built and the resulting alias becomes <code>open http://nodejs.org/docs/v0.10.35/api/</code>. Wrapping it all in single quotes instead prevents bash from evaluating the inner expressions until the alias is invoked from the shell.</p>
<p>This should work with little modification in linux too, namely replacing the <code>open</code> command, but I haven&apos;t tried.</p>
</article></div></div><script src="https://code.jquery.com/jquery-2.1.4.min.js"></script><script src="http://dhbhdrzi4tiry.cloudfront.net/cdn/sites/foundation.js"></script><script src="/scripts/lodash.js"></script><script>$(document).foundation();</script><script src="/scripts/vg.js"></script></body></html>